(function(e){function t(t){for(var a,n,s=t[0],d=t[1],l=t[2],c=0,u=[];c<s.length;c++)n=s[c],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&u.push(o[n][0]),o[n]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);p&&p(t);while(u.length)u.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,n=1;n<r.length;n++){var s=r[n];0!==o[s]&&(a=!1)}a&&(i.splice(t--,1),e=d(d.s=r[0]))}return e}var a={},n={1:0},o={1:0},i=[];function s(e){return d.p+"js/"+({}[e]||e)+"."+{2:"68b64eb1",3:"8da94225",4:"d65a10d3",5:"e4666717",6:"c0706492"}[e]+".js"}function d(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,d),r.l=!0,r.exports}d.e=function(e){var t=[],r={2:1,3:1,4:1,5:1,6:1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=new Promise((function(t,r){for(var a="css/"+({}[e]||e)+"."+{2:"72f89506",3:"8b2f79d4",4:"d852a1b9",5:"e35bfd75",6:"897c2d1b"}[e]+".css",o=d.p+a,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var l=i[s],c=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(c===a||c===o))return t()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){l=u[s],c=l.getAttribute("data-href");if(c===a||c===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var a=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete n[e],p.parentNode.removeChild(p),r(i)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){n[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,r){a=o[e]=[t,r]}));t.push(a[2]=i);var l,c=document.createElement("script");c.charset="utf-8",c.timeout=120,d.nc&&c.setAttribute("nonce",d.nc),c.src=s(e);var u=new Error;l=function(t){c.onerror=c.onload=null,clearTimeout(p);var r=o[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",u.name="ChunkLoadError",u.type=a,u.request=n,r[1](u)}o[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:c})}),12e4);c.onerror=c.onload=l,document.head.appendChild(c)}return Promise.all(t)},d.m=e,d.c=a,d.d=function(e,t,r){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},d.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(d.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)d.d(r,a,function(t){return e[t]}.bind(null,a));return r},d.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="",d.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var p=c;i.push([0,0]),r()})({0:function(e,t,r){e.exports=r("2f39")},"0047":function(e,t,r){},"2f39":function(e,t,r){"use strict";r.r(t);r("5319");var a=r("c973"),n=r.n(a),o=(r("7d6e"),r("e54f"),r("985d"),r("0047"),r("2b0e")),i=r("1f91"),s=r("42d2"),d=r("b05d");o["a"].use(d["a"],{config:{},lang:i["a"],iconSet:s["a"]});var l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"q-app"}},[r("router-view")],1)},c=[],u=r("ded3"),p=r.n(u),f=r("2f62"),h={methods:p()({},Object(f["b"])("store",["handleInvocation"])),mounted(){this.handleInvocation()}},m=h,w=r("2877"),g=Object(w["a"])(m,l,c,!1,null,null,null),b=g.exports,v=r("59ca"),z=(r("ea7b"),r("66ce"),{apiKey:"AIzaSyCtHrBGsK33WKYkOvQG1uJ8ZrA4lgwMLBs",authDomain:"wizardchat-16206.firebaseapp.com",databaseURL:"https://wizardchat-16206.firebaseio.com",projectId:"wizardchat-16206",storageBucket:"wizardchat-16206.appspot.com",messagingSenderId:"675377250906",appId:"1:675377250906:web:bcd4d9de2317819ac94e63"});let y,I=v["initializeApp"](z),W=I.auth(),P=I.database();const D={wizardDetails:{},wizards:{},messages:{}},O={setWizardDetails(e,t){e.wizardDetails=t},addWizard(e,t){o["a"].set(e.wizards,t.wizardId,t.wizardDetails)},updateWizard(e,t){Object.assign(e.wizards[t.wizardId],t.wizardDetails)},addMessage(e,t){o["a"].set(e.messages,t.messageId,t.messageDetails)},clearMessages(e){e.messages={}}},S={createWizard({},e){W.createUserWithEmailAndPassword(e.email,e.password).then(t=>{let r=W.currentUser.uid;P.ref("users/"+r).set({name:e.name,email:e.email,online:!0})}).catch(e=>{console.log("Spell wrong! ",e.message)})},invoqueWizard({},e){W.signInWithEmailAndPassword(e.email,e.password).then(e=>{console.log(e)}).catch(e=>{console.log("Spell wrong! ",e.message)})},expellusWizard(){W.signOut()},handleInvocation({commit:e,dispatch:t,state:r}){W.onAuthStateChanged(a=>{if(a){let r=W.currentUser.uid;P.ref("users/"+r).once("value",t=>{let a=t.val();e("setWizardDetails",{name:a.name,email:a.email,wizardId:r})}),t("firebaseUpdateWizard",{wizardId:r,updates:{online:!0}}),t("firebaseInvocateWizards"),this.$router.push("/")}else t("firebaseUpdateWizard",{wizardId:r.wizardDetails.wizardId,updates:{online:!1}}),e("setWizardDetails",{}),this.$router.replace("/spell-auth")})},firebaseUpdateWizard({},e){e.wizardId&&P.ref("users/"+e.wizardId).update(e.updates)},firebaseInvocateWizards({commit:e}){P.ref("users").on("child_added",t=>{let r=t.val(),a=t.key;e("addWizard",{wizardId:a,wizardDetails:r})}),P.ref("users").on("child_changed",t=>{let r=t.val(),a=t.key;e("updateWizard",{wizardId:a,wizardDetails:r})})},firebaseGetMessages({commit:e,state:t},r){let a=t.wizardDetails.wizardId;y=P.ref("conference-room/"+a+"/"+r),y.on("child_added",t=>{let r=t.val(),a=t.key;e("addMessage",{messageId:a,messageDetails:r})})},firebaseStopGettingMessages({commit:e}){y&&(y.off("child_added"),e("clearMessages"))},firebaseSendMessage({},e){P.ref("conference-room/"+D.wizardDetails.wizardId+"/"+e.otherWizardId).push(e.newMessage),e.newMessage.from="them",P.ref("conference-room/"+e.otherWizardId+"/"+D.wizardDetails.wizardId).push(e.newMessage)}},j={wizards:e=>{let t={};return Object.keys(e.wizards).forEach(r=>{r!==e.wizardDetails.wizardId&&(t[r]=e.wizards[r])}),t}};var M={namespaced:!0,state:D,mutations:O,actions:S,getters:j};o["a"].use(f["a"]);var _=function(){const e=new f["a"].Store({modules:{store:M},strict:!1});return e},k=r("8c4f");r("e6cf");const E=[{path:"/",component:()=>Promise.all([r.e(0),r.e(3)]).then(r.bind(null,"713b")),children:[{path:"",component:()=>Promise.all([r.e(0),r.e(6)]).then(r.bind(null,"05ca"))},{path:"/conference-room/:otherWizardId",component:()=>Promise.all([r.e(0),r.e(4)]).then(r.bind(null,"a6a3"))},{path:"/spell-auth",component:()=>Promise.all([r.e(0),r.e(2)]).then(r.bind(null,"2cb3"))}]},{path:"*",component:()=>Promise.all([r.e(0),r.e(5)]).then(r.bind(null,"e51e"))}];var A=E;o["a"].use(k["a"]);var x=function(){const e=new k["a"]({scrollBehavior:()=>({x:0,y:0}),routes:A,mode:"hash",base:""});return e},C=function(){return U.apply(this,arguments)};function U(){return U=n()((function*(){const e="function"===typeof _?yield _({Vue:o["a"]}):_,t="function"===typeof x?yield x({Vue:o["a"],store:e}):x;e.$router=t;const r={router:t,store:e,render:e=>e(b),el:"#q-app"};return{app:r,store:e,router:t}})),U.apply(this,arguments)}const B="";function L(){return T.apply(this,arguments)}function T(){return T=n()((function*(){const{app:e,store:t,router:r}=yield C();let a=!1;const n=e=>{a=!0;const t=Object(e)===e?r.resolve(e).route.fullPath:e;window.location.href=t},i=window.location.href.replace(window.location.origin,""),s=[void 0];for(let l=0;!1===a&&l<s.length;l++)if("function"===typeof s[l])try{yield s[l]({app:e,router:r,store:t,Vue:o["a"],ssrContext:null,redirect:n,urlPath:i,publicPath:B})}catch(d){return d&&d.url?void(window.location.href=d.url):void console.error("[Quasar] boot error:",d)}!0!==a&&new o["a"](e)})),T.apply(this,arguments)}L()}});