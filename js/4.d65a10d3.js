(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"43a4":function(e,s,t){"use strict";s["a"]={computed:{otherWizardDetails(){return this.$store.state.store.wizards[this.$route.params.otherWizardId]?this.$store.state.store.wizards[this.$route.params.otherWizardId]:{}}}}},"8bac":function(e,s,t){},a6a3:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("q-page",{ref:"invocation",staticClass:"invocation flex column"},[e.otherWizardDetails.online?e._e():t("q-banner",{staticClass:"text-center bg-purple",staticStyle:{"font-size":"large","font-family":"Vivaldi",color:"gold"},attrs:{"inline-actions":""}},[e._v("\n    It is like nobody here...\n  ")]),t("div",{staticClass:"q-pa-md column col pergamin justify-end",class:{invisible:!e.showMessages}},e._l(e.messages,(function(s,a){return t("q-chat-message",{key:a,staticStyle:{"font-size":"large","font-family":"Vivaldi",color:"#bd0404"},attrs:{name:"me"===s.from?e.wizardDetails.name:e.otherWizardDetails.name,text:[s.text],sent:"me"===s.from}})})),1),t("q-footer",{attrs:{elevated:""}},[t("q-toolbar",[t("q-form",{staticClass:"full-width",on:{submit:e.activateSpell}},[t("q-input",{ref:"message",attrs:{outlined:"",rounded:"","bg-color":"white",label:"Dissedium",dense:""},scopedSlots:e._u([{key:"before",fn:function(){return[""===e.message?t("q-avatar",[t("img",{attrs:{src:"wizard.png"}})]):e._e()]},proxy:!0},{key:"after",fn:function(){return[""!==e.message?t("q-btn",{attrs:{color:"yellow",round:"",flat:"",icon:"send"}}):e._e()]},proxy:!0}]),model:{value:e.message,callback:function(s){e.message=s},expression:"message"}})],1)],1)],1)],1)},o=[],r=t("ded3"),i=t.n(r),n=t("2f62"),l=t("43a4"),c={mixins:[l["a"]],data(){return{message:"",showMessages:!1}},computed:i()({},Object(n["d"])("store",["messages","wizardDetails"])),methods:i()(i()({},Object(n["b"])("store",["firebaseGetMessages","firebaseStopGettingMessages","firebaseSendMessage"])),{},{activateSpell(){this.firebaseSendMessage({newMessage:{text:this.message,from:"me"},otherWizardId:this.$route.params.otherWizardId}),this.clearMessage()},clearMessage(){this.message="",this.$refs.message.focus()},scrollToBottom(){let e=this.$refs.invocation.$el;setTimeout(()=>{window.scrollTo(0,e.scrollHeight)},20)}}),watch:{messages:function(e){Object.keys(e).length&&(this.scrollToBottom(),setTimeout(()=>{this.showMessages=!0}))}},mounted(){this.firebaseGetMessages(this.$route.params.otherWizardId)},destroyed(){this.firebaseStopGettingMessages()}},d=c,m=(t("ef12"),t("2877")),f=t("9989"),u=t("54e1"),g=t("8169"),h=t("7ff0"),b=t("65c6"),p=t("0378"),w=t("27f9"),v=t("cb32"),z=t("9c40"),y=t("eebe"),M=t.n(y),q=Object(m["a"])(d,a,o,!1,null,null,null);s["default"]=q.exports;M()(q,"components",{QPage:f["a"],QBanner:u["a"],QChatMessage:g["a"],QFooter:h["a"],QToolbar:b["a"],QForm:p["a"],QInput:w["a"],QAvatar:v["a"],QBtn:z["a"]})},ef12:function(e,s,t){"use strict";var a=t("8bac"),o=t.n(a);o.a}}]);